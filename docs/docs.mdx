import { InstallScript } from './components/InstallScript/InstallScript';
import * as demos from './demos';

## Installation

<InstallScript packages="@gfazioli/mantine-mask" />

After installation import package styles at the root of your application:

```tsx
import '@gfazioli/mantine-mask/styles.css';
```

You can import styles within a layer `@layer mantine-mask` by importing `@gfazioli/mantine-mask/styles.layer.css` file.

```tsx
import '@gfazioli/mantine-mask/styles.layer.css';
```

## Mask component

`Mask` wraps any content and applies a radial ‚Äúspotlight‚Äù effect using CSS masking.

You can use it in two main ways:

- **Cursor spotlight**: the mask follows the pointer (`withCursorMask`)
- **Static spotlight**: the mask stays at a fixed position (`maskX`/`maskY`)

Use `maskRadius` (or `maskRadiusX`/`maskRadiusY`) to control the spotlight size.

### Quick mental model

- The **inside** of the spotlight is visible
- The **outside** fades to transparent (based on `maskTransparencyStart`/`maskTransparencyEnd` or `maskFeather`)
- With `invertMask`, it is the opposite: the center becomes transparent and the outside stays visible

> **NOTE**
>
> - `animation` controls how the mask follows the cursor when `withCursorMask` is enabled.
> - `animation="lerp"` uses `easing`
> - `animation="none"` follows instantly
> - `activation="pointer"` (or `activation="hover"`) toggles the mask on pointer enter/leave.


<Demo data={demos.configuration} />

### Key props (most common)

- **Position**: `withCursorMask`, `maskX`, `maskY`, `cursorOffsetX`, `cursorOffsetY`
- **Size**: `maskRadius`, `maskRadiusX`, `maskRadiusY`
- **Feather**: `maskFeather` (simple), or `maskTransparencyStart` + `maskTransparencyEnd` (advanced)
- **Visibility**: `maskOpacity`, `invertMask`
- **Interaction**: `activation`, `active`, `onActiveChange`
- **Motion**: `animation`, `easing`
- **Bounds**: `clampToBounds`, `clampPadding`

## Convenience props

You can use convenience props to set common configurations quickly.

### maskFeather

For example, `maskFeather` is a convenience prop that overrides `maskTransparencyStart`/`maskTransparencyEnd`.

- `maskFeather={0}`: hard edge (start=end=100)
- `maskFeather={100}`: full fade (start=0, end=100)

### maskRadius

Another example is `maskRadius` which sets both `maskRadiusX` and `maskRadiusY` to the same value.

If you need more control, you can still use the lower-level props:

- `maskTransparencyStart` and `maskTransparencyEnd` define where the fade starts/ends (0‚Äì100)
- `maskRadiusX` and `maskRadiusY` create an elliptical spotlight

<Demo data={demos.convenience} />

## Basic usage

Wrap any content with `Mask` to apply the spotlight effect.
In this example the spotlight follows the cursor (`withCursorMask`) and reveals the image under the mask.

<Demo data={demos.mask} />

> üí° Tip: keep the spotlight inside
>
> When using `withCursorMask`, you can keep the spotlight inside the container with:
>
> - `clampToBounds`: prevents the center from going outside
> - `clampPadding`: adds extra padding from the edges

## Static mask origin

<Demo data={demos.maskStatic} />

## Custom radius

Use `maskRadius` when you want a simple, circular spotlight.
It sets both X and Y radii to the same value.

<Demo data={demos.maskRadius} />

## Elliptical mask

If you need an oval shape, use `maskRadiusX` and `maskRadiusY`.
This is useful for wide headers, cards, or panoramic images.

<Demo data={demos.maskEllipse} />

## Variants

`Mask` supports two variants:

- `variant="radial"` (default): a classic circular/elliptical spotlight
- `variant="linear"`: a linear ‚Äúband‚Äù (useful for reveal stripes and scanner effects)

When you use `variant="linear"`:

- `maskRadius` controls the band thickness
- `maskTransparencyStart` / `maskTransparencyEnd` (or `maskFeather`) control how soft the band edges are
- `maskAngle` controls the band angle (in degrees)

### Linear variant

Use `variant="linear"` to create a linear band instead of a radial spotlight.
The band follows the cursor the same way as the radial variant.

Use `maskAngle` to set the direction (0‚Äì360).

<Demo data={demos.maskLinear} />

## Inverted mask

`invertMask` flips what is visible: the center becomes transparent and the outside stays visible.
It works well for ‚Äúhole‚Äù effects or to reveal a background layer.

<Demo data={demos.maskInvert} />

### Linear + inverted

You can combine `variant="linear"` with `invertMask` to cut a ‚Äúhole band‚Äù through the content.

<Demo data={demos.maskLinearInvert} />

> **NOTE**
>
> `invertMask` makes the center transparent. Transparent areas show whatever is _behind_ the component.
> That is why the ‚Äúglow‚Äù can look light in light mode and dark in dark mode.
>
> Tip: set a background on the `Mask` container (for example with Mantine `bg`, or `style={{ backgroundColor: ... }}`)
> if you want a consistent look across themes.

## Activation

`activation` controls when the cursor mask is considered ‚Äúactive‚Äù.

- `always`: the mask is always enabled
- `hover`: enabled while the pointer is over the component (mouseenter/leave)
- `pointer`: same idea as hover, but based on pointer events (useful for touch/stylus)
- `focus`: enabled while the component has keyboard focus

If you do not want any automatic behavior, you can control it yourself with the `active` prop.

<Demo data={demos.maskActivation} />

Activation can be handled automatically (with `activation`) or controlled manually:

- Use `activation` for common interactions (`always`, `hover`, `pointer`, `focus`)
- Use the `active` prop to fully control visibility (it overrides `activation`)
- Use `onActiveChange` to react to internal activation events

### Focus activation (accessibility)

If you use `activation="focus"`, the component becomes keyboard-friendly.
In that case `Mask` will apply a default `tabIndex={0}` (unless you provide a different `tabIndex`).

## Any content

`Mask` does not care what you render inside.
It can wrap images, cards, text blocks, or any custom React content.

<Demo data={demos.maskCustomContent} />

## Use cases

Below are a couple of common patterns you can build by combining `Mask` with background images and a hard edge (`maskFeather={0}`).

### Reveal

Use a different background on the container and ‚Äúreveal‚Äù it through the spotlight.

<Demo data={demos.maskReveal} />

### Zoom

Put a zoomed background image on the container and show it through the spotlight.
This creates a simple ‚Äúmagnifier‚Äù effect.

<Demo data={demos.maskZoom} />

### Disable mask

Another example is when you want to make part of your UI inaccessible while still showing a preview of what it could be.

<Demo data={demos.disable} />
